<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css' rel='stylesheet'/>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<!-- Custom CSS -->
    <style>
        #map {
            /* the width and height may be set to any size */
            width: 100%;
            height: 600px;
        }
    </style>
<body>

<h1>Fave Restaurants</h1>

<!-- The HTML element that serves as the Mapbox container -->
<div id='map'></div>

<!-- Mapbox JS -->
<script src='https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js'></script>
<script src="js/keys.js"></script>
<script src="js/mapbox-geocoder-utils.js"></script>


<!-- Custom JS -->
<script>
"use strict"

mapboxgl.accessToken = mapboxKey;
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
    center: [-104.9903, 39.7392], // starting position [lng, lat]
    zoom: 3 // starting zoom
});

// geocode("2704 W Mile 5 Rd, Mission, TX 78574", mapboxKey).then(function(data) {
//     console.log(data);
//     new mapboxgl.Marker().setLngLat(data).addTo(map);
// });

/** -- Create a popup with the name of the restaurant. */

var popup1 = new mapboxgl.Popup()
    .setHTML("<h3>Taqueria Mary</h3>" + "<p>It's ya fave taco place!</p>")

/** Make sure the info window does not display until the marker has been clicked on. */

var taqueriaMarker = new mapboxgl.Marker()
    .setLngLat([-98.350834, 26.292571])
    .setPopup(popup1)
    .addTo(map);



const restaurants = [
    {
        restaurantName: "Kimura",
        location: "San Antonio, TX",
        lat: "29.4284461",
        lon: "-98.4914926",
        },
    {
        restaurantName: "Dos Catrinas",
        location: "Punta Mita, Mexico",
        lat:"20.7806915",
        lon: "-105.5292423",
        },
    {
        restaurantName: "Cliff House",
        location: "Vancouver, BC",
        lat: "49.342908",
        lon: "-123.1153799",
        },
]



restaurants.forEach(function(restaurant) {
    var popupAll = new mapboxgl.Popup()
        .setHTML("<h3>" + restaurant.restaurantName + "</h3>" + "<p>" + restaurant.location +"</p>");
    var marker = new mapboxgl.Marker()
        .setLngLat([restaurant.lon, restaurant.lat])
        .setPopup(popupAll)
        .addTo(map);
});

console.log(restaurant.restaurantName);
console.log(restaurant.location);
console.log(restaurant.lat);
console.log(restaurant.lon);





</script>
</body>
</html>